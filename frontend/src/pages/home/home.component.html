<div class="container">
  <span *ngIf="user?.name" style="display: flex;">Welcome: {{user.name}}</span>
    <h1>Keyword Extractor2</h1>

    <div *ngIf="devMode">
      Dev Mode:
      <span>usageLimitReached: {{usageLimitReached}}</span>
      <br>
      <br>
      <span>User: {{user | json}}</span>
    </div>
  
    <!-- Input Area -->
    <textarea 
      [(ngModel)]="inputText" 
      (input)="onInputChange($event)"
      placeholder="Paste your content here..." 
      rows="6"></textarea>
    <button (click)="extractKeywords()" [disabled]="isLoading">Extract Keywords</button>
  
    <!-- Loading State -->
    <div *ngIf="isLoading" class="loading">Extracting keywords...</div>
  
    <!-- Error Message -->
    <div *ngIf="errorMessage" class="error">{{ errorMessage }}</div>
  
    <!-- Keywords Table -->
    <table *ngIf="keywords.length > 0">
      <thead>
        <tr>
          <th>Keyword</th>
          <th>Type</th>
          <th>Salience</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let keyword of keywords">
          <td>{{ keyword.name }}</td>
          <td>{{ keyword.type }}</td>
          <td>{{ keyword.salience | number: '1.2-2' }}</td>
        </tr>
      </tbody>
    </table>
  </div>
  

  <div>
    <div *ngIf="user?.isRegistered">Premium Member!</div>
    <span (click)="logout()">Logout</span>
    <app-payments *ngIf="!user?.isRegistered" [tokenSub]="token?.sub" [userProfile]="user"></app-payments>
  </div>